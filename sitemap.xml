---
layout: null
---
<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9"
        xmlns:xhtml="http://www.w3.org/1999/xhtml">
  
  <!-- Homepage -->
  <url>
    <loc>{{ site.url }}{{ site.baseurl }}/</loc>
    <lastmod>{{ site.time | date_to_xmlschema }}</lastmod>
    <changefreq>weekly</changefreq>
    <priority>1.0</priority>
  </url>
  
  <!-- About page -->
  <url>
    <loc>{{ site.url }}{{ site.baseurl }}/about/</loc>
    <lastmod>{{ site.time | date_to_xmlschema }}</lastmod>
    <changefreq>monthly</changefreq>
    <priority>0.8</priority>
  </url>
  
  <!-- Posts with language annotations -->
  {% for post in site.posts %}
  <url>
    <loc>{{ site.url }}{{ post.url }}</loc>
    {% if post.date %}
    <lastmod>{{ post.date | date_to_xmlschema }}</lastmod>
    {% endif %}
    <changefreq>monthly</changefreq>
    <priority>0.9</priority>
    
    <!-- Add hreflang annotations for translated posts -->
    {% assign post_slug = post.url | split: "/" | last | split: "." | first %}
    {% if site.data.languages.pairs[post_slug] %}
      {% assign translation_slug = site.data.languages.pairs[post_slug] %}
      {% for other_post in site.posts %}
        {% assign other_post_slug = other_post.url | split: "/" | last | split: "." | first %}
        {% if other_post_slug == translation_slug %}
          <xhtml:link rel="alternate" hreflang="{{ other_post.lang | default: 'zh' }}" href="{{ site.url }}{{ other_post.url }}" />
        {% endif %}
      {% endfor %}
      <xhtml:link rel="alternate" hreflang="{{ post.lang | default: 'en' }}" href="{{ site.url }}{{ post.url }}" />
    {% else %}
      <!-- Single language post -->
      <xhtml:link rel="alternate" hreflang="{{ post.lang | default: 'en' }}" href="{{ site.url }}{{ post.url }}" />
    {% endif %}
  </url>
  {% endfor %}
  
  <!-- Pages -->
  {% for page in site.pages %}
    {% unless page.url contains '/404' or page.url contains '/robots' or page.url contains '/sitemap' %}
    <url>
      <loc>{{ site.url }}{{ page.url }}</loc>
      {% if page.date %}
      <lastmod>{{ page.date | date_to_xmlschema }}</lastmod>
      {% else %}
      <lastmod>{{ site.time | date_to_xmlschema }}</lastmod>
      {% endif %}
      <changefreq>monthly</changefreq>
      <priority>0.7</priority>
    </url>
    {% endunless %}
  {% endfor %}
  
</urlset>